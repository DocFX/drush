<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Consolidation\AnnotatedCommand\Input\StdinHandler | Drush API 13</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../../fonts/doctum-font.css">
        <script src="../../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../../doctum.js"></script>
        <script async defer src="../../../js/bootstrap.min.js"></script>
        <script async defer src="../../../js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:Consolidation_AnnotatedCommand_Input_StdinHandler" data-root-path="../../../" data-search-index-url="../../../doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="../../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">Drush API 13</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                    <li><a href="../../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../Consolidation.html">Consolidation</a></li><li class="backslash">\</li><li><a href="../../../Consolidation/AnnotatedCommand.html">AnnotatedCommand</a></li><li class="backslash">\</li><li><a href="../../../Consolidation/AnnotatedCommand/Input.html">Input</a></li><li class="backslash">\</li><li>StdinHandler</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>StdinHandler    
            </h1>
    </div>

    
    <p>        class
    <strong>StdinHandler</strong>        (<a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php">View source</a>)
</p>

        
    
        

            <div class="description">
            <p><p>StdinHandler is a thin wrapper around php://stdin. It provides
methods for redirecting input from a file, possibly conditionally
under the control of an Input object.</p></p>            <p><p>Example trivial usage (always reads from stdin):</p>
<pre><code> class Example implements StdinAwareInterface
 {
     /**
      * @command cat
      * @param string $file
      * @default $file -
      * /
     public function cat()
     {
          print($this-&gt;stdin()-&gt;contents());
     }
 }</code></pre>
<p>Command that reads from stdin or file via an option:</p>
<pre><code> /**
  * @command cat
  * @param string $file
  * @default $file -
  * /
 public function cat(InputInterface $input)
 {
     $data = $this-&gt;stdin()-&gt;select($input, 'file')-&gt;contents();
 }</code></pre>
<p>Command that reads from stdin or file via an option:</p>
<pre><code> /**
  * @command cat
  * @option string $file
  * @default $file -
  * /
 public function cat(InputInterface $input)
 {
     $data = $this-&gt;stdin()-&gt;select($input, 'file')-&gt;contents();
 }</code></pre>
<p>It is also possible to inject the selected stream into the input object,
e.g. if you want the contents of the source file to be fed to any Question
helper et. al. that the $input object is used with.</p>
<pre><code> /**
  * @command example
  * @option string $file
  * @default $file -
  * /
 public function example(InputInterface $input)
 {
     $this-&gt;stdin()-&gt;setStream($input, 'file');
 }</code></pre>
<p>Inject an alternate source for standard input in tests.  Presumes that
the object under test gets a reference to the StdinHandler via dependency
injection from the container.</p>
<pre><code> $container-&gt;get('stdinHandler')-&gt;redirect($pathToTestStdinFileFixture);</code></pre>
<p>You may also inject your stdin file fixture stream into the $input object
as usual, and then use it with 'select()' or 'setStream()' as shown above.</p>
<p>Finally, this class may also be used in absence of a dependency injection
container by using the static 'selectStream()' method:</p>
<pre><code> /**
  * @command example
  * @option string $file
  * @default $file -
  * /
 public function example(InputInterface $input)
 {
     $data = StdinHandler::selectStream($input, 'file')-&gt;contents();
 }</code></pre>
<p>To test a method that uses this technique, simply inject your stdin
fixture into the $input object in your test:</p>
<pre><code> $input-&gt;setStream(fopen($pathToFixture, 'r'));</code></pre></p>        </div>
            
        
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_path">
                                        protected                                        
                                                                                
                                    </td>
                <td>$path</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_stream">
                                        protected                                        
                                                                                
                                    </td>
                <td>$stream</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8">
                    <a href="#method_selectStream">selectStream</a>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_hasPath">hasPath</a>()
        
                                            <p><p>hasPath returns 'true' if the stdin handler has a path to a file.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_hasStream">hasStream</a>()
        
                                            <p><p>hasStream returns 'true' if the stdin handler has opened a stream.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_path">path</a>()
        
                                            <p><p>path returns the path to any file that was set as a redirection
source, or <code>php://stdin</code> if none have been.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_close">close</a>()
        
                                            <p><p>close closes the input stream if it was opened.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    $this
                </div>
                <div class="col-md-8">
                    <a href="#method_redirect">redirect</a>($path)
        
                                            <p><p>redirect specifies a path to a file that should serve as the
source to read from. If the input path is '-' or empty,
then output will be taken from php://stdin (or whichever source
was provided via the 'redirect' method).</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    $this
                </div>
                <div class="col-md-8">
                    <a href="#method_select">select</a>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, string $optionOrArg)
        
                                            <p><p>select chooses the source of the input stream based on whether or
not the user provided the specified option or argument on the commandline.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getStream">getStream</a>()
        
                                            <p><p>getStream opens and returns the stdin stream (or redirect file).</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_setStream">setStream</a>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        
                                            <p><p>setStream functions like 'select', and also sets up the $input
object to read from the selected input stream e.g. when used
with a question helper.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_contents">contents</a>()
        
                                            <p><p>contents reads the entire contents of the standard input stream.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_pathProvided">pathProvided</a>($path)
        
                                            <p><p>Returns 'true' if a path was specfied, and that path was not '-'.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getOptionOrArg">getOptionOrArg</a>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_selectStream">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L99">at line 99</a></div>
        <code>        static            
    <strong>selectStream</strong>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p class="no-description">No description</p>
                    
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr></td>
                <td>$input</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$optionOrArg</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_hasPath">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L111">at line 111</a></div>
        <code>                    bool
    <strong>hasPath</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>hasPath returns 'true' if the stdin handler has a path to a file.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_hasStream">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L122">at line 122</a></div>
        <code>                    bool
    <strong>hasStream</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>hasStream returns 'true' if the stdin handler has opened a stream.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_path">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L133">at line 133</a></div>
        <code>                    string
    <strong>path</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>path returns the path to any file that was set as a redirection
source, or <code>php://stdin</code> if none have been.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_close">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L141">at line 141</a></div>
        <code>                    
    <strong>close</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>close closes the input stream if it was opened.</p></p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_redirect">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L158">at line 158</a></div>
        <code>                    $this
    <strong>redirect</strong>($path)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>redirect specifies a path to a file that should serve as the
source to read from. If the input path is '-' or empty,
then output will be taken from php://stdin (or whichever source
was provided via the 'redirect' method).</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$path</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>$this</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_select">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L176">at line 176</a></div>
        <code>                    $this
    <strong>select</strong>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, string $optionOrArg)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>select chooses the source of the input stream based on whether or
not the user provided the specified option or argument on the commandline.</p></p>                <p><p>Stdin is selected if there is no user selection.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr></td>
                <td>$input</td>
                <td></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$optionOrArg</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>$this</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getStream">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L189">at line 189</a></div>
        <code>                    
    <strong>getStream</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>getStream opens and returns the stdin stream (or redirect file).</p></p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setStream">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L202">at line 202</a></div>
        <code>                    
    <strong>setStream</strong>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>setStream functions like 'select', and also sets up the $input
object to read from the selected input stream e.g. when used
with a question helper.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr></td>
                <td>$input</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$optionOrArg</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_contents">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L217">at line 217</a></div>
        <code>                    string
    <strong>contents</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>contents reads the entire contents of the standard input stream.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_pathProvided">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L235">at line 235</a></div>
        <code>            protected        
    <strong>pathProvided</strong>($path)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns 'true' if a path was specfied, and that path was not '-'.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$path</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getOptionOrArg">
        <div class="location"><a href="https://github.com/drush-ops/drush/blob/13.x/vendor/consolidation/annotated-command/src/Input/StdinHandler.php#L240">at line 240</a></div>
        <code>            protected        
    <strong>getOptionOrArg</strong>(<abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr> $input, $optionOrArg)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p class="no-description">No description</p>
                    
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Symfony\Component\Console\Input\InputInterface">InputInterface</abbr></td>
                <td>$input</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$optionOrArg</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>
